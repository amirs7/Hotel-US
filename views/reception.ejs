<%include ./partials/head.ejs%>

<div id="customers" >
    <div class="uk-align-center uk-margin-top uk-margin-left uk-column-1-3">
        <h1 >Reception Dashboard</h1>
        <input class="search uk-text-large uk-search-input uk-margin-top " placeholder="Search" />
        <a href="/reserves/new"><button class="uk-button-large  uk-button-primary">New Register Card</button></a>
    </div>
    <ul class="list uk-child-width-1-4 " uk-grid >
        <%reserves.forEach(function (reserve) {%>
        <div class="uk-margin-top uk-align-center">
            <li>
                <div class="uk-card uk-card-default uk-card-hover uk-margin-left uk-text-center">
                    <div class="uk-card-body"><div class="roomType  uk-label">Reserve Card </div></div>
                    <div class="uk-card-title uk-card-header"> <p class="uk-text-small uk-align-left nationalId">National ID: <%=reserve.nationalId%></p></div>
                    <div class="uk-card-body uk-text-small">
                        <div class="uk-text-primary">In Date:</div>
                         <%=reserve.getInDate%>
                    </div>
                    <div class="uk-card-footer">
                        <a href="/reserves/<%=reserve._id%>/checkIn" ><button class=" uk-button-primary uk-text-small">Check In</button></a>
                    </div>
                </div>

            </li>
        </div>
        <%})%>
        <%customers.forEach(function (customer) {%>
        <div class="uk-margin-top uk-align-center">
            <li>
                <a href="/customers/<%=customer._id%>">
                <div class="uk-card uk-card-default uk-card-hover uk-margin-left uk-text-center">
                    <div class="uk-card-title uk-card-header">
                        <div class="roomType uk-text-small uk-label-success">Register Card </div>
                        <div class="uk-card-title uk-card-header"> <p class="uk-text-small uk-align-left nationalId">National ID: <%=customer.nationalId%></p></div>
                    </div>
                    <div class="uk-card-body uk-text-small">
                        <%=customer.firstname%> <%=customer.lastname%>
                    </div>
                    <div class="uk-card-footer">
                        <%if(!customer.checkedOut){%>
                        <a href="/customers/<%=customer._id%>/checkOut"><button class="uk-button-primary">Check Out</button> </a>
                        <%}else{%>
                        <a href="/customers/<%=customer._id%>/checkIn"><button class="uk-button-primary">Check In</button> </a>
                        <%}%>
                    </div>
                </div>
                </a>
            </li>
        </div>
        <%})%>
    </ul>
</div>


<script>
    var puzzleList = new List('customers', {
        valueNames: ['nationalId',"roomType"],
    });
</script>
